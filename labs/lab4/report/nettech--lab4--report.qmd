---
## Author
author:
  name: Ко Антон Геннадьевич
  email: 1132221551@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Лабораторная работа №4"
subtitle: "Подготовка экспериментального стенда GNS3"
license: "CC BY"
---

# Цель работы

Установка и настройка GNS3 и сопутствующего программного обеспечения.

# Задание

1. Установить GNS3-all-in-one, GNS3 VM, проверить корректность запуска.
2. Импортировать в GNS3 образ маршрутизатора FRR.
3. Импортировать в GNS3 образ маршрутизатора VyOS.

# Выполнение лабораторной работы

## Установка  GNS3-all-in-one, GNS3 VM

Установим GNS3-all-in-one. Для этого используем инструкцию с официального сайта GNS3.(рис. @fig-001):

![Установка GNS3-all-in-one](image/image1.png){#fig-001 width=70%}

Затем установим GNS3VM, воспользовавшись установочным файлом с официального сайта. Перейдем в каталог, в который скачан архив с образом виртуальной машины
GNS3.VM.VirtualBox.3.0.5.zip. Распакуем архив с образом. Затем запустим VirtualBox. Выберем меню Файл Импорт конфигураций(рис. @fig:002). Укажем месторасположение распакованного образа GNS3 VM.ova.

![Импорт конфигураций](image/image2.png){#fig:002 width=70%}


![Настройка виртуальной машины GNS3 VM в VirtualBox](image/image3.png){#fig:003 width=70%}

Также настроим сетевой адаптер. Для этого в VirtualBox выберем импортированную виртуальную машину и перейдем в меню Машина-Настроить. Перейдем к опции «Сеть» и во вкладке «Адаптер 1» тип подключения установим как «Виртуальный адаптер хоста».

После успешного подсоединения появилось окно с итоговыми настройками, на котором следует нажать Finish, но у меня был другой случай и пришлось самому настраивать GNS3 (рис. @fig:004).

![Окно с итоговыми настройками](image/image4.png){#fig:004 width=70%}

В результате мы успешно запустили экземпляр GNS3 в VirtualBox(рис. @fig:005).

![Экземпляр GNS3 в VirtualBox](image/image5.png){#fig:005 width=70%}

## Добавление образа маршрутизатора FRR

Требуется добавить образ маршрутизатора FRR. В рабочем пространстве GNS3 на левой боковой панели выберем просмотр маршрутизаторов (Browse Routers), затем нажмем на +New template. В открывшемся окне укажем рекомендуемое верхнее значение, а именно, устанавливаем образ с GNS3-сервера, нажмем Next (рис. @fig:006). 

![Создание нового шаблона](image/image6.png){#fig:006 width=70%} 


В следующем окне выберем Routers и образ FRR (FRRouting), нажмем Install(рис. @fig:007). В следующем окне укажем, что устанавливать образ следует на виртуальную машину GNS3 VM, нажмем Next. Далее предлагается выбор эмулятора, оставим предложенное, нажмем Next. В следующем окне предлагается перечень файлов для скачивания и последующей установки. Выберем наиболее актуальную версию(в нашем случае это 8.2.2) и нажмем Download(рис. @fig:007)

![Выбор образа](image/image7.png){#fig:007 width=70%}

![Скачивание файлов](image/image8.png){#fig:008 width=70%}

После окончания скачивания (процесс скачивания отобразился
в браузере основной ОС) импортируем образ, затем нажмем Next(@fig:009). 

![Импорт образа](image/image9.png){#fig:009 width=70%}

На заключительном окне указывается краткая информация об устройстве,
просмотрев её, нажмем Finish (@fig:010). 

![Краткая информация об устройстве](image/image10.png){#fig:010 width=70%}

В рабочем пространстве на левой панели в списке маршрутизаторов появился образ устройства FRR.
Далее необходимо настроить образ маршрутизатора. Правой кнопкой мыши
щёлкнем на образе устройства, в меню выберем Configure template.
В открывшемся во вкладке «General settings» (@fig:011) в поле «On close» выберем Send the shutdown signal (ACPI). Во вкладке «HDD» (@fig:012) поставим галочку «Automatically create a config disk on HDD».

![Настройка образа маршрутизатора: General settings](image/image11.png){#fig:011 width=70%}

![Настройка образа маршрутизатора: HDD](image/image12.png){#fig:012 width=70%}

# Добавление образа маршрутизатора VyOS

В GNS3 требуется добавить образ платформы маршрутизации VyOS (https://vyos.net/). Импортируем vyos-2025.10.24-0017-rolling-generic-amd64 в GNS3 через пункт меню File>Import appliance. 

В открывшемся окне укажем, что образ следует устанавливать с GNS3-сервера. В следующем окне выберем Routers и образ VyOS, нажмем Install . Далее укажем, что устанавливать образ следует на виртуальную машину GNS3 VM (@fig:013).

![Добавление образа устройства в GNS3: выбор места установки](image/image13.png){#fig:013 width=70%}

Затем скачаем недостающие файлы. Теперь можно установить образ (@fig:015, @fig:0016).

![Выбор версии образа](image/image15.png){#fig:015 width=70%}

![Установка образа маршрутизатора VyOS](image/image16.png){#fig:016 width=70%}

![Завершение установки образа маршрутизатора VyOS](image/image17.png){#fig:017 width=70%}

Далее необходимо настроить образ маршрутизатора. Правой кнопкой мыши
щёлкните на образе устройства, в меню выберете Configure template. В открывшемся окне необходимо во вкладке «General settings» в поле «On close» выбрать Send the shutdown signal (ACPI). Во вкладке «HDD» необходимо поставить галочку
«Automatically create a config disk on HDD»(@fig:0018).

![Настройка образа маршрутизатора VyOS](image/image18.png){#fig:018 width=70%}

# Выводы

В результате выполнения лабораторной работы были установлены  GNS3-all-in-one, GNS3 VM и проверена корректность их работы. Также импортированы образы маршрутизаторов FRR и VyOS.